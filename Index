<%@ page import = "java.io.File" %>
<%@ page import = "java.util.List" %>
<%@ page import = "java.util.ArrayList" %>
<%@ page import = "java.util.Arrays" %>
<%@ page import = "java.util.HashSet" %>	
<%@ page import = "java.util.Properties" %>
<%@ page import = "java.util.Set" %>
<%@ page import = "Utilities.General_Functions1" %>


<%@ page import = "javax.swing.filechooser.FileSystemView" %>

<%!List<String> myList;
%>
<%

String Result_Folder=null;
String Result_File_path=null;
String Reload=null;
ServletContext context = pageContext.getServletContext();
Result_Folder=context.getInitParameter("Result_Folder");
Result_File_path=context.getInitParameter("Result_File_path");
Reload=context.getInitParameter("Apache-Reload");
session.setAttribute("Result_Folder",Result_Folder);
session.setAttribute("Result_File_path",Result_File_path);
session.setAttribute("Reload",Reload);
long heapSize = Runtime.getRuntime().totalMemory(); 


long heapMaxSize = Runtime.getRuntime().maxMemory();


long heapFreeSize = Runtime.getRuntime().freeMemory(); 

System.out.println("heapsize : "+heapSize);
System.out.println("heapmaxsize : "+heapMaxSize);
System.out.println("heapFreesize : "+heapFreeSize);

File a=new File(Result_File_path);

if(a.exists()){
	a.delete();
}

File file=new File(Result_Folder);
if (!file.exists()) {
      if (file.mkdirs()) {
          System.out.println("Folder created");
      } else {
          System.out.println("Failed to create directories!");
      }
  }

session.setAttribute("Type_Source","No"); 

%>
 
<!DOCTYPE html>
<html>

<head>
<script>

  function preventBack(){window.history.forward();}
  setTimeout("preventBack()", 0);
  window.onunload=function(){null};
</script>

<title>Home</title>
<link rel="stylesheet" href="CSS/style-Home.css"> 
<link rel="stylesheet"  href="CSS/Form.css">
<link rel="stylesheet"  href="CSS/Radio.css">
<style>
body {
    text-align: center;
}
</style>
</head>
<body>

<H2><center>Data Validator Dashboard<HR></center></H2>
<BR>

<div id="one">
<div class="form-style-5">

<fieldset>
<legend><span class="number">1</span>Source Type</legend>
<select id="src_type" name="src_type" onchange="reset_msg()">
<option value="Hive" selected>Hive</option>
<option value="SQL Server" >SQL Server</option>
<option value="DB2">DB2</option>
<option value="Netezza" >Netezza</option>
<option value="File" >File</option>
</select>
</fieldset>

<div id="Hive">
<form method="post" name=f1 id=f1>
<input name="src_type" type="hidden"  value="Hive"  />
<fieldset>
<legend><span class="number">2</span>DB User Name</legend>
<input required  name="src_username_hive" type="text"  placeholder="Enter user name *"  />

</fieldset>

<fieldset>
<legend><span class="number">3</span>DB Password</legend>
<input required  name="src_password_hive" type="password"  placeholder="Enter password *"  />

</fieldset>

<fieldset>
<legend><span class="number">4</span>Source Query</legend>
<textarea required  name="src_query_hive" rows="10" placeholder="Enter source query *"></textarea>

</fieldset>
<input type="submit" name="submit1" value="Proceed to Target" formAction='Target_DB.jsp'  />
</form>
</div>

<div id="Sql_Server">
<form method="post" name=f2 id=f2>
<input name="src_type" type="hidden"  value="SQL Server"  />
<fieldset>
<legend><span class="number">2</span>DB User Name</legend>
<input required name="src_username_sql" type="text"  placeholder="Enter user name *"  />

</fieldset>

<fieldset>
<legend><span class="number">3</span>DB Password</legend>
<input required name="src_password_sql" type="password"  placeholder="Enter password *"  />

</fieldset>

<fieldset>
<legend><span class="number">4</span>Server Name</legend>
<input required name="src_server_name_sql" type="text"  placeholder="Enter server name *"  />

</fieldset>

<fieldset>
<legend><span class="number">5</span>DataBase Name</legend>
<input name="src_db_name_sql" type="text"  placeholder="Enter DB name *"  />

</fieldset>

<fieldset>
<legend><span class="number">6</span>Source Query</legend>
<textarea required name="src_query_sql" rows="10" placeholder="Enter source query *"></textarea>

</fieldset>
<input type="submit" name="submit2" value="Proceed to Target" formAction='Target_DB.jsp'  />
</form>
</div>



<div id="DB2">
<form method="post" name=f3 id=f3>
<input name="src_type" type="hidden"  value="DB2"  />
<fieldset>
<legend><span class="number">2</span>DB User Name</legend>
<input required name="src_username_db2" type="text"  placeholder="Enter user name *"  />

</fieldset>

<fieldset>
<legend><span class="number">3</span>DB Password</legend>
<input required name="src_password_db2" type="password"  placeholder="Enter password *"  />

</fieldset>

<fieldset>
<legend><span class="number">4</span>DataBase Name</legend>
<input required name="src_db_name_db2" type="text"  placeholder="Enter DB name *"  />

</fieldset>
<fieldset>
<legend><span class="number">5</span>Port Number</legend>
<input required name="src_port_db2" type="text"  placeholder="Enter port number *"  />

</fieldset>
<fieldset>
<legend><span class="number">6</span>Host Name</legend>
<input required name="src_host_db2" type="text"  placeholder="Enter host name *"  />

</fieldset>
<fieldset>
<legend><span class="number">7</span>Source Query</legend>
<textarea required name="src_query_db2" rows="10" placeholder="Enter source query *"></textarea>

</fieldset>
<input type="submit" name="submit3" value="Proceed to Target" formAction='Target_DB.jsp'  />
</form>
</div>

<div id="Netezza">
<form method="post" name=f5 id=f5>
<input name="src_type" type="hidden"  value="Netezza"  />
<fieldset>
<legend><span class="number">2</span>DB User Name</legend>
<input required name="src_username_netezza" type="text"  placeholder="Enter user name *"  />

</fieldset>

<fieldset>
<legend><span class="number">3</span>DB Password</legend>
<input required name="src_password_netezza" type="password"  placeholder="Enter password *"  />

</fieldset>

<fieldset>
<legend><span class="number">4</span>DataBase Name</legend>
<input required name="src_db_name_netezza" type="text"  placeholder="Enter DB name *"  />

</fieldset>
<fieldset>
<legend><span class="number">5</span>Server Name</legend>
<input required name="src_server_name_netezza" type="text"  placeholder="Enter server name *"  />

</fieldset>

<fieldset>
<legend><span class="number">6</span>Source Query</legend>
<textarea required name="src_query_netezza" rows="10" placeholder="Enter source query *"></textarea>

</fieldset>
<input type="submit" name="submit5" value="Proceed to Target" formAction='Target_DB.jsp'  />
</form>
</div>






<div id="File">

<fieldset>
<legend><span class="number">2</span>File Type</legend>
<select id="src_file_type" name="src_file_type" onchange="reset_msg1()">
<option value="Select" selected>Select</option>
<option value="Excel" >Excel</option>
<option value="CSV">CSV</option>
<option value="Delimiter" >Delimiter</option>
</select>
</fieldset>

<div id="CSV">
<form method="post" name=f6 id=f6>
<input name="src_type" type="hidden"  value="CSV" />
<fieldset>
<legend><span class="number">3</span>Do You have End of Record Symbol</legend>
<select id="src_eor" name="src_eor">
<option value="Yes">Yes</option>
<option value="No" selected>No</option>
</select>
</fieldset>
<fieldset>
<legend><span class="number">4</span>Source Column Name</legend>
<textarea required name="src_column_name" rows="10" placeholder="Enter source column name separated by comma *"></textarea>
</fieldset>
<input type="submit" name="submit6" value="Proceed to File Upload" formAction='File.jsp'  />
</form>
</div>

<div id="delimiter">
<form method="post" name=f7 id=f7>
<input name="src_type" type="hidden"  value="Delimiter" />

<fieldset>
<legend><span class="number">3</span>Delimiter Symbol</legend>
<input required name="src_symbol" type="text"  placeholder="Enter delimiter symbol *"  />

</fieldset>
<fieldset>
<legend><span class="number">4</span>Do You have End of Record Symbol</legend>
<select id="src_eor" name="src_eor">
<option value="Yes">Yes</option>
<option value="No" selected>No</option>
</select>
</fieldset>
<fieldset>
<legend><span class="number">5</span>Source Column Name</legend>
<textarea required name="src_column_name" rows="10" placeholder="Enter source column name separated by comma *"></textarea>
</fieldset>
<input type="submit" name="submit7" value="Proceed to File Upload" formAction='File.jsp'  />
</form>
</div>

<div id="Excel">
<form method="post" name=f8 id=f8>
<input name="src_type" type="hidden"  value="Excel" />

<input type="submit" name="submit8" value="Proceed to File Upload" formAction='File.jsp'  />
</form>
</div>



</div>

</div>
</div>

<script src="Scripts/index_Home.js"></script>
<script src="Scripts/AllTest.js"></script>
<script src="Scripts/jquery-3.2.1.min.js"></script> 
<script>
    
    $("#Hive").show();
    $("#Sql_Server").hide();
    $("#DB2").hide();
    $("#Excel").hide();
    $("#Netezza").hide();
    $("#File").hide();
    $("#CSV").hide();
    $("#delimiter").hide();
    
    
    
	function reset_msg() {
		
		 var genders = document.getElementById("src_type").value;
		 if (genders == "Hive") {
			 $(document).ready(function(){
				    $("#Hive").show();
				    $("#Sql_Server").hide();
				    $("#DB2").hide();
				   
				    $("#Netezza").hide();
				    $("#File").hide();
				    
				  
			 });
			
		 }
		 if (genders == "SQL Server") {
	        $(document).ready(function(){

	        	    $("#Hive").hide();
				    $("#Sql_Server").show();
				    $("#DB2").hide();
				   
				    $("#Netezza").hide();
				    $("#File").hide();
	        
	        
	    
	});
	        
		 }
		 if (genders== "DB2") {
		        $(document).ready(function(){

		        	 $("#Hive").hide();
					    $("#Sql_Server").hide();
					    $("#DB2").show();
					   
					    $("#Netezza").hide();
					    $("#File").hide();
		        
		        
		    
		});
		        
			 }
		 
		
		 
		 if (genders== "Netezza") {
		        $(document).ready(function(){

		        	   $("#Hive").hide();
					    $("#Sql_Server").hide();
					    $("#DB2").hide();
					 
					    $("#Netezza").show();
					    $("#File").hide();
		        
		        
		    
		});
		        
			 }
		 
		 if (genders== "File") {
		        $(document).ready(function(){

		        	   $("#Hive").hide();
					    $("#Sql_Server").hide();
					    $("#DB2").hide();
					  
					    $("#Netezza").hide();
					    $("#File").show();
		        
		        
		    
		});
		        
			 }
	 }
	
	
	function reset_msg1() {
		
		 var genders = document.getElementById("src_file_type").value;
		 if (genders == "CSV") {
			 $(document).ready(function(){
				  
				    $("#CSV").show();
				    $("#delimiter").hide();
				    $("#Excel").hide();
				    	    
				  
			 });
			
		 }
		 
		 if (genders == "Delimiter") {
			 $(document).ready(function(){
				  
				    $("#CSV").hide();
				    $("#delimiter").show();
				    $("#Excel").hide();
				    	    
				  
			 });
			
		 }
		 
		 if (genders == "Excel") {
			 $(document).ready(function(){
				  
				    $("#CSV").hide();
				    $("#delimiter").hide();
				    $("#Excel").show();
				    	    
				  
			 });
			
		 }
	}

</script>

</body>
</html>
